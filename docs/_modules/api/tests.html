<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>api.tests &mdash; Anadolu Ajansı Medya Teknolojileri Web App Version 1.1 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=7243cef6"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            Anadolu Ajansı Medya Teknolojileri Web App
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Sınıflandırma Sistemi</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../siniflandirma/kategorizasyon.html">Kategorizasyon Süreci Dokümantasyonu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../siniflandirma/kullanim-senaryolari.html">Kullanım Senaryoları</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Anadolu Ajansı Medya Teknolojileri Web App</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Module code</a></li>
      <li class="breadcrumb-item active">api.tests</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for api.tests</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">glob</span>
<span class="kn">from</span> <span class="nn">django.core.files</span> <span class="kn">import</span> <span class="n">File</span>  <span class="c1"># Import the File class</span>
<span class="kn">from</span> <span class="nn">django.core.files.uploadedfile</span> <span class="kn">import</span> <span class="n">SimpleUploadedFile</span>
<span class="kn">from</span> <span class="nn">rest_framework.test</span> <span class="kn">import</span> <span class="n">APITestCase</span>
<span class="kn">from</span> <span class="nn">rest_framework</span> <span class="kn">import</span> <span class="n">status</span>
<span class="kn">from</span> <span class="nn">django.contrib.auth.models</span> <span class="kn">import</span> <span class="n">User</span>
<span class="kn">from</span> <span class="nn">faker</span> <span class="kn">import</span> <span class="n">Faker</span>

<span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="n">ImageUpload</span><span class="p">,</span> <span class="n">TextUpload</span><span class="p">,</span> <span class="n">VoiceUpload</span>


<div class="viewcode-block" id="ImageUploadTestCase">
<a class="viewcode-back" href="../../reference/api.html#api.tests.ImageUploadTestCase">[docs]</a>
<span class="k">class</span> <span class="nc">ImageUploadTestCase</span><span class="p">(</span><span class="n">APITestCase</span><span class="p">):</span>
<div class="viewcode-block" id="ImageUploadTestCase.setUp">
<a class="viewcode-back" href="../../reference/api.html#api.tests.ImageUploadTestCase.setUp">[docs]</a>
    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create_user</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;testuser&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;12345&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;testuser&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;12345&quot;</span><span class="p">)</span>

        <span class="c1"># Define the path to your sample image</span>
        <span class="n">base_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)))</span>
        <span class="n">image_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_dir</span><span class="p">,</span> <span class="s2">&quot;api&quot;</span><span class="p">,</span> <span class="s2">&quot;test_media&quot;</span><span class="p">,</span> <span class="s2">&quot;base_test_image.jpg&quot;</span><span class="p">)</span>

        <span class="c1"># Open the sample image and read it</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">image_path</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">image_file</span><span class="p">:</span>
            <span class="n">image</span> <span class="o">=</span> <span class="n">File</span><span class="p">(</span><span class="n">image_file</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">SimpleUploadedFile</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="s2">&quot;test_image.jpg&quot;</span><span class="p">,</span>
                <span class="n">content</span><span class="o">=</span><span class="n">image_file</span><span class="o">.</span><span class="n">read</span><span class="p">(),</span>
                <span class="n">content_type</span><span class="o">=</span><span class="s2">&quot;image/jpeg&quot;</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;/api/images/&quot;</span></div>


<div class="viewcode-block" id="ImageUploadTestCase.test_create_image">
<a class="viewcode-back" href="../../reference/api.html#api.tests.ImageUploadTestCase.test_create_image">[docs]</a>
    <span class="k">def</span> <span class="nf">test_create_image</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Test creating an image through the API</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;image&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">status</span><span class="o">.</span><span class="n">HTTP_201_CREATED</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">ImageUpload</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">count</span><span class="p">(),</span> <span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="ImageUploadTestCase.test_retrieve_images">
<a class="viewcode-back" href="../../reference/api.html#api.tests.ImageUploadTestCase.test_retrieve_images">[docs]</a>
    <span class="k">def</span> <span class="nf">test_retrieve_images</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Test retrieving images through the API</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;image&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="p">})</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">status</span><span class="o">.</span><span class="n">HTTP_200_OK</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">data</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="ImageUploadTestCase.tearDown">
<a class="viewcode-back" href="../../reference/api.html#api.tests.ImageUploadTestCase.tearDown">[docs]</a>
    <span class="k">def</span> <span class="nf">tearDown</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Define the path to your media/images folder</span>
        <span class="n">base_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)))</span>
        <span class="n">media_image_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_dir</span><span class="p">,</span> <span class="s2">&quot;media&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">)</span>

        <span class="c1"># Pattern to match all files starting with &#39;test_&#39; in the media/images directory</span>
        <span class="n">test_files_pattern</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">media_image_path</span><span class="p">,</span> <span class="s2">&quot;test_*&quot;</span><span class="p">)</span>

        <span class="c1"># Use glob to find all matching files</span>
        <span class="n">test_files</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">test_files_pattern</span><span class="p">)</span>

        <span class="c1"># Remove each file</span>
        <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">test_files</span><span class="p">:</span>
            <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">tearDown</span><span class="p">()</span>  <span class="c1"># Call the tearDown method of the superclass.</span></div>
</div>



<div class="viewcode-block" id="TextUploadTestCase">
<a class="viewcode-back" href="../../reference/api.html#api.tests.TextUploadTestCase">[docs]</a>
<span class="k">class</span> <span class="nc">TextUploadTestCase</span><span class="p">(</span><span class="n">APITestCase</span><span class="p">):</span>
<div class="viewcode-block" id="TextUploadTestCase.setUp">
<a class="viewcode-back" href="../../reference/api.html#api.tests.TextUploadTestCase.setUp">[docs]</a>
    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create_user</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;testuser&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;12345&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;testuser&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;12345&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">GÖRÜŞ - Güney Afrika&#39;nın UAD başvurusu: Emsal kararlar ne söylüyor?</span>
<span class="s2">UAD&#39;nin, Güney Afrika&#39;nın İsrail&#39;e karşı açtığı davada ihtiyati tedbir kararı vermesine neredeyse kesin gözüyle bakılıyor. Mahkeme&#39;nin tedbir kararı vermemesi, bilhassa Bosna, Rohingya ve Ukrayna vakalarındaki yaklaşımıyla tezatlık teşkil edecektir.</span>

<span class="s2">Boğaziçi Üniversitesi Hukuk Fakültesi Öğretim Üyesi Ali Emrah Bozbayındır, Güney Afrika&#39;nın İsrail aleyhine açtığı soykırım davası çerçevesinde, Uluslararası Adalet Divanında (UAD) açılan emsal davalardan çıkan kararları ve etkilerini AA Analiz için kaleme aldı.</span>

<span class="s2">***</span>

<span class="s2">Güney Afrika&#39;nın İsrail aleyhine UAD nezdinde açtığı soykırım davasının ihtiyati tedbir taleplerine ilişkin duruşmaları geçen hafta yapıldı. UAD&#39;de 11 Ocak&#39;taki oturumda, Güney Afrika hukuk ekibinin, oldukça iyi hazırlanmış hukuk sanatının icra edildiği sunumunun yanı sıra meselenin insani yönü de ıskalanmadı. Bu hususta özellikle Blinne Ni Ghralaigh sunumunda; Mahkeme, gerekli tedbirlerin alınması yolundaki kararı derhal almadığı takdirde telafisi zor zararların meydana geleceğinin ve soykırım teşkil eden yeni fiillerin icra edilebileceğinin altını çizdi. Gazze&#39;deki mevcut durumun bir insanlık krizi olduğunu ve muadili olmayan bir dehşetle bütün halkın kuşatma altında açlıkla mücadele ettiğini anlatan Ghralaigh, derhal tedbir alınmazsa çok geç olabileceğini çarpıcı bir şekilde gözler önüne serdi. Günlük istatistiklere bakıldığında her gün 48&#39;i anne, 117&#39;si çocuk olmak üzere ortalama 247 Filistinlinin öldürüldüğü ifade edildi. Birleşmiş Milletler Çocuklara Yardım Fonu (UNICEF) ise İsrail’in fiillerinin çocuklara karşı bir savaş niteliğinde olduğunu açıkladı.</span>

<span class="s2">Güney Afrika, ihtiyati tedbir kararı verilebilmesi için gerekli yargı yetkisinin mevcudiyetini, soykırım teşkil eden fiillerden en azından bir kısmının işlendiğini ortaya koyarak talep edilen somut tedbir kararlarını açıkladı. Bunların en başta geleni ve hiç kuşkusuz en önemlisi Mahkeme&#39;den İsrail’in Gazze’ye yönelik askeri operasyonlarını durdurması talebidir. Güney Afrika hukuk heyetinden Profesör Vaughan Lowe, İsrail’in Filistinlilere yönelik doğrudan saldırılarında şehirleri dümdüz ettiğini, sivil unsurları ayırmadığını ve insani yardımların ulaşmasına mani olduğunu vurguladı. Güney Afrikalı heyetin sunumunu ve İsrail&#39;in savunmasını takiben UAD davasının nasıl sonuçlanabileceği merak konusu. Bu bağlamda UAD&#39;de daha önce görülen davalara ve alınan emsal kararlara bakmak faydalı olacaktır.</span>

<span class="s2">Emsal kararlar</span>
<span class="s2">UAD&#39;nin önceki kararlarında, Soykırım Sözleşmesi’nin ihlal edildiği iddiasıyla yapılan başvurularda da ihtiyati tedbirlere hükmedilmişti. Örneğin, 1993 yılında Bosna Hersek&#39;in Sırbistan aleyhine açtığı davada soykırım teşkil eden fiillerin icra edildiği hususunda ciddi bir riskin olması nedeniyle ihtiyati tedbir kararı verilmişti. Keza, 2020 senesinde Gambiya’nın Myanmar aleyhine açtığı davada Rohingya halkının telafi edilmesi mümkün olmayan ağır fiillere uğradığı gerekçesiyle de ihtiyati tedbir kararı alınmıştı. Kararda, Rohingya halkının kitlesel öldürülme, yaralanma, gıdaya erişimlerinin engellenmesi ve diğer temel ihtiyaçlardan mahrum bırakılması gerekçe gösterilmişti. Güney Afrika hukuk heyeti, Ukrayna’nın Rusya’ya karşı açtığı soykırım davasında da ihtiyati tedbir kararı verilmesini örnek vererek, Gazze’de yaşananların ihtiyati tedbire ilişkin şartları taşıdığını vurguladı.</span>

<span class="s2">İhtiyati tedbir kararlarının verilmesine ilişkin bir süre olmamasına rağmen, vakanın acil olma niteliği genellikle göz önünde bulunduruluyor. Gambiya’nın Myanmar aleyhine ihtiyati tedbir başvurusu 11 Kasım 2019&#39;da yapılmıştı ve Mahkeme’den Rohingya halkına yönelik soykırım tehdidi göz önüne alınarak bir an önce karar verilmesi yolunda talepte bulunulmuştu. Bu davaya ilişkin duruşmalar, 10 Aralık 2019&#39;da gerçekleştirildi. Mahkeme 23 Ocak 2020&#39;de ihtiyati tedbir kararını yayınladı. Görüldüğü üzere Mahkeme genel olarak ihtiyati tedbir kararları için 1 aydan biraz fazla bir süreye ihtiyaç duyuyor. Bu noktada, Ukrayna’nın ihtiyati tedbir başvurusunun ise yalnızca 18 günde karara bağlandığı vurgulanmalıdır. Bunda Rusya’nın duruşmaya katılmamasının da etkili olduğu ileri sürülüyor. Güney Afrika’nın İsrail aleyhine yaptığı başvuruda ise İsrail duruşmaya katıldı. Buna mukabil, Mahkeme’nin 5 Şubat&#39;tan önce ihtiyati tedbir talebine ilişkin bir karar vermesi bekleniyor. Zira, anılan tarihte UAD&#39;de bazı hakimler emekliye ayrılacak.</span>

<span class="s2">Bu noktada vurgulanması gereken bir diğer husus, soykırım iddialarının esasına ilişkin davanın ise çok uzun sürmesidir. Örneğin Divan, Bosna’nın Sırbistan aleyhine açtığı davayı 14 yıl sonra ancak neticelendirebildi. Devam eden katliamların bir kez daha göz önüne serilmesi ve Filistinlilere yönelik ağır saldırıların bir an önce son bulması bakımından, ihtiyati tedbir kararı büyük önem taşıyor. İhtiyati tedbir kararına muhatap olan bir devletin, bunu yerine getirmemesi halinde UAD&#39;nin uygulayabileceği doğrudan bir yaptırım bulunmuyor. Geçmişte bazı devletlerin ilgili kararlara kısmen veya tamamen uyduğu örnekler olduğu gibi, Mahkeme’nin kararına uymayan örnekler de bulunuyor. Bu hususta, ilgili devletin gücü ve uluslararası toplumun ilgili davaya yönelik yaklaşımı da önemli rol oynuyor.</span>

<span class="s2">Verilecek kararın uluslararası hukuk açısından önemi</span>
<span class="s2">Güney Afrika’nın böyle bir başvuruyu yapabilmesi ve insanlık adına bir mahkeme önünde Filistinlilere karşı işlenen suçları ortaya koyması büyük önem taşıyor. UAD&#39;nin muhtemel ihtiyati tedbir kararı, uluslararası kuralların var olduğu gerçeğini göstermesi açısından da oldukça önemlidir. İsrail’in, Birleşmiş Milletler (BM) kurumları karşısındaki mutat işbirliğine yanaşmayan tutumunu terk etmek durumunda kalması ve kendisini Mahkeme önünde savunması, olası bir ihtiyati tedbir kararının hukuki ve ahlaki gücünü gösteren unsurlar arasında yer alıyor. Buna ilave olarak Uluslararası Ceza Mahkemesi&#39;nin (UCM) vereceği adil bir ihtiyati tedbir kararının uluslararası toplumun Filistin vakasındaki tutumlarını gözden geçirmelerine vesile olabileceği değerlendiriliyor. UAD’nin, Güney Afrika’nın İsrail’e karşı açtığı davada ihtiyati tedbir kararı vermesine neredeyse kesin gözüyle bakılıyor. Bununla birlikte uluslararası hukuk kurumlarının yapısında mündemiç uluslararası siyaset olgusunun Mahkeme’yi ne derecede etkileyeceği hususu da merak konusu olmaya devam ediyor. Gerçekten Mahkeme’nin soykırım sözleşmesi kapsamındaki ihtiyati tedbir kararlarına ilişkin içtihatları değerlendirildiğinde, Gazze vakasında tedbir kararı vermemesi, bilhassa Bosna, Rohingya ve Ukrayna vakalarındaki yaklaşımıyla tezatlık teşkil edecektir. Bu nedenle mevcut tartışma Mahkeme’nin ihtiyati tedbir kararının niteliği üzerinde yoğunlaşıyor. Gerçekten Mahkeme’nin İsrail’den Gazze’ye yönelik saldırılarını derhal durdurmasını isteyip istemeyeceği, tartışmaların merkezinde duruyor. Adalet Divanı hakimleri İsrail’in saldırılarının durdurulmasını talep ettiği takdirde, bunun İsrail üzerindeki uluslararası toplum baskısını artıracağı öngörülebilir.</span>
<span class="s2">&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;/api/texts/&quot;</span></div>


<div class="viewcode-block" id="TextUploadTestCase.test_create_text">
<a class="viewcode-back" href="../../reference/api.html#api.tests.TextUploadTestCase.test_create_text">[docs]</a>
    <span class="k">def</span> <span class="nf">test_create_text</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">status</span><span class="o">.</span><span class="n">HTTP_201_CREATED</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">TextUpload</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">count</span><span class="p">(),</span> <span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="TextUploadTestCase.test_retrieve_texts">
<a class="viewcode-back" href="../../reference/api.html#api.tests.TextUploadTestCase.test_retrieve_texts">[docs]</a>
    <span class="k">def</span> <span class="nf">test_retrieve_texts</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">})</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">status</span><span class="o">.</span><span class="n">HTTP_200_OK</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">data</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span></div>
</div>



<div class="viewcode-block" id="VoiceUploadTestCase">
<a class="viewcode-back" href="../../reference/api.html#api.tests.VoiceUploadTestCase">[docs]</a>
<span class="k">class</span> <span class="nc">VoiceUploadTestCase</span><span class="p">(</span><span class="n">APITestCase</span><span class="p">):</span>
<div class="viewcode-block" id="VoiceUploadTestCase.setUp">
<a class="viewcode-back" href="../../reference/api.html#api.tests.VoiceUploadTestCase.setUp">[docs]</a>
    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create_user</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;testuser&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;12345&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;testuser&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;12345&quot;</span><span class="p">)</span>

        <span class="c1"># Initialize Faker</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fake</span> <span class="o">=</span> <span class="n">Faker</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">voice_file</span> <span class="o">=</span> <span class="n">SimpleUploadedFile</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">&quot;test_voice.mp3&quot;</span><span class="p">,</span>
            <span class="n">content</span><span class="o">=</span><span class="sa">b</span><span class="s2">&quot;Some audio content&quot;</span><span class="p">,</span>
            <span class="n">content_type</span><span class="o">=</span><span class="s2">&quot;audio/mpeg&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;/api/voices/&quot;</span></div>


<div class="viewcode-block" id="VoiceUploadTestCase.test_create_voice">
<a class="viewcode-back" href="../../reference/api.html#api.tests.VoiceUploadTestCase.test_create_voice">[docs]</a>
    <span class="k">def</span> <span class="nf">test_create_voice</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Use Faker to generate random text</span>
        <span class="n">fake_transcript</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fake</span><span class="o">.</span><span class="n">paragraph</span><span class="p">(</span><span class="n">nb_sentences</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;voice_file&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">voice_file</span><span class="p">,</span> <span class="s2">&quot;transcript&quot;</span><span class="p">:</span> <span class="n">fake_transcript</span><span class="p">}</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">status</span><span class="o">.</span><span class="n">HTTP_201_CREATED</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">VoiceUpload</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">count</span><span class="p">(),</span> <span class="mi">1</span><span class="p">)</span>

        <span class="n">voice_upload</span> <span class="o">=</span> <span class="n">VoiceUpload</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="n">voice_upload</span><span class="o">.</span><span class="n">transcript</span><span class="p">,</span> <span class="n">fake_transcript</span>
        <span class="p">)</span>  <span class="c1"># Check if the transcript matches the fake one</span></div>


<div class="viewcode-block" id="VoiceUploadTestCase.test_retrieve_voices">
<a class="viewcode-back" href="../../reference/api.html#api.tests.VoiceUploadTestCase.test_retrieve_voices">[docs]</a>
    <span class="k">def</span> <span class="nf">test_retrieve_voices</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">fake_transcript</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fake</span><span class="o">.</span><span class="n">paragraph</span><span class="p">(</span><span class="n">nb_sentences</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;voice_file&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">voice_file</span><span class="p">,</span> <span class="s2">&quot;transcript&quot;</span><span class="p">:</span> <span class="n">fake_transcript</span><span class="p">}</span>
        <span class="p">)</span>

        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">status</span><span class="o">.</span><span class="n">HTTP_200_OK</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">data</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="VoiceUploadTestCase.tearDown">
<a class="viewcode-back" href="../../reference/api.html#api.tests.VoiceUploadTestCase.tearDown">[docs]</a>
    <span class="k">def</span> <span class="nf">tearDown</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Define the path to your media/images folder</span>
        <span class="n">base_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)))</span>
        <span class="n">media_image_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_dir</span><span class="p">,</span> <span class="s2">&quot;media&quot;</span><span class="p">,</span> <span class="s2">&quot;voices&quot;</span><span class="p">)</span>

        <span class="c1"># Pattern to match all files starting with &#39;test_&#39; in the media/images directory</span>
        <span class="n">test_files_pattern</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">media_image_path</span><span class="p">,</span> <span class="s2">&quot;test_*&quot;</span><span class="p">)</span>

        <span class="c1"># Use glob to find all matching files</span>
        <span class="n">test_files</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">test_files_pattern</span><span class="p">)</span>

        <span class="c1"># Remove each file</span>
        <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">test_files</span><span class="p">:</span>
            <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">tearDown</span><span class="p">()</span>  <span class="c1"># Call the tearDown method of the superclass.</span></div>
</div>

</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Muhammed Sezer.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>